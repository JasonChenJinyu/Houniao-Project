#include <Arduino.h>
#include <Adafruit_NeoPixel.h>
#include <WiFi.h>
#include <HTTPClient.h>
#include <freertos/task.h>
#include <ArduinoJson.h>

const char* ssid = "Moonshot48";
const char* password = "moonshot";

const char* serverAddress = "http://192.168.110.78:8000/talk";

#define PIN 6 
#define MATRIX_WIDTH  8  // 8x8 matrix
#define MATRIX_HEIGHT 8  
#define NUM_LEDS (MATRIX_WIDTH * MATRIX_HEIGHT)
#define BUTTON_PIN 7

int mode = 1;
Adafruit_NeoPixel strip = Adafruit_NeoPixel(NUM_LEDS, PIN, NEO_GRB + NEO_KHZ800);

float brightness = 0.3;
int R = 255 * brightness; 
int G = 0 * brightness;
int B = 0 * brightness;

int R2 = 0 * brightness; 
int G2 = 0 * brightness;
int B2 = 255 * brightness;

bool lastButtonState = HIGH;
bool currentButtonState = HIGH;
unsigned long lastDebounceTime = 0;
const unsigned long debounceDelay = 50;
unsigned long buttonPressStartTime = 0;
bool longPressDetected = false;

unsigned long animationTimer = 0;
int animationStep = 0;
int previousMode = 0;
int flashCount = 0; // Counter for double flash




// Emoji 1 (Sunglasses)
int emoji1_1[8][8][3] = {
  {{248,230,114}, {254,234,118}, {250,229,111}, {249,225,89}, {249,225,91}, {250,229,112}, {254,234,118}, {245,226,112}},
  {{245,243,236}, {219,218,212}, {250,247,224}, {251,227,96}, {251,228,104}, {250,248,232}, {221,220,214}, {244,243,236}},
  {{213,213,217}, {0,0,0}, {236,234,220}, {253,229,99}, {253,231,107}, {235,234,228}, {0,0,0}, {225,225,229}},
  {{248,245,230}, {235,233,219}, {252,247,217}, {254,229,97}, {254,231,104}, {252,248,224}, {237,234,220}, {246,244,229}},
  {{249,227,99}, {253,230,102}, {247,225,97}, {226,205,81}, {227,206,82}, {249,226,98}, {253,230,102}, {245,223,97}},
  {{248,225,86}, {254,227,88}, {225,204,78}, {0,0,0}, {0,0,0}, {236,213,83}, {253,227,88}, {245,221,85}},
  {{248,225,88}, {254,228,90}, {225,204,80}, {0,0,0}, {0,0,0}, {236,214,84}, {253,228,90}, {245,221,87}},
  {{244,223,87}, {247,224,88}, {242,221,87}, {215,197,77}, {216,198,77}, {244,222,87}, {247,224,88}, {241,220,86}},
};

int emoji1_2[8][8][3] = {
  {{248,230,114}, {254,234,118}, {250,229,111}, {249,225,89}, {249,225,91}, {250,229,112}, {254,234,118}, {245,226,112}},
  {{245,243,236}, {219,218,212}, {250,247,224}, {251,227,96}, {251,228,104}, {250,248,232}, {221,220,214}, {244,243,236}},
  {{213,213,217}, {219,218,212}, {236,234,220}, {253,229,99}, {253,231,107}, {235,234,228}, {219,218,212}, {225,225,229}},
  {{248,245,230}, {235,233,219}, {252,247,217}, {254,229,97}, {254,231,104}, {252,248,224}, {237,234,220}, {246,244,229}},
  {{249,227,99}, {253,230,102}, {247,225,97}, {226,205,81}, {227,206,82}, {249,226,98}, {253,230,102}, {245,223,97}},
  {{248,225,86}, {254,227,88}, {225,204,78}, {0,0,0}, {0,0,0}, {236,213,83}, {253,227,88}, {245,221,85}},
  {{248,225,88}, {254,228,90}, {225,204,80}, {0,0,0}, {0,0,0}, {236,214,84}, {253,228,90}, {245,221,87}},
  {{244,223,87}, {247,224,88}, {242,221,87}, {215,197,77}, {216,198,77}, {244,222,87}, {247,224,88}, {241,220,86}},
};

// Emoji 2 (Tongue Out)
int emoji2[8][8][3] = {
  {{248,224,88}, {250,225,86}, {254,229,90}, {249,225,89}, {249,224,88}, {249,224,85}, {249,224,85}, {248,225,88}},
  {{250,227,94}, {243,222,104}, {214,193,75}, {246,222,87}, {251,226,91}, {254,232,112}, {251,230,112}, {249,226,93}},
  {{254,236,124}, {215,214,209}, {0,0,0}, {231,210,81}, {250,227,97}, {229,226,208}, {250,250,245}, {251,232,122}},
  {{251,232,117}, {253,250,232}, {234,230,203}, {250,227,98}, {234,211,81}, {0,0,0}, {229,225,208}, {255,235,123}},
  {{242,220,88}, {227,208,91}, {255,232,102}, {255,229,91}, {252,227,89}, {233,211,82}, {222,203,87}, {243,221,89}},
  {{205,185,72}, {0,0,0}, {216,196,75}, {223,203,80}, {224,204,79}, {214,195,75}, {0,0,0}, {201,183,71}},
  {{250,226,89}, {250,226,89}, {0,0,0}, {0,0,0}, {202,114,107}, {202,114,107}, {206,187,74}, {249,225,89}},
  {{247,225,89}, {243,221,87}, {211,194,75}, {209,186,77}, {200,115,105}, {202,114,107}, {243,212,90}, {248,227,88}},
};

int emoji3_1[8][8][3] = {
  {{235,191,67}, {233,188,67}, {217,176,62}, {234,189,67}, {233,188,67}, {217,175,62}, {234,189,67}, {234,191,71}},
  {{236,191,68}, {213,173,62}, {0,0,0}, {218,177,64}, {212,172,62}, {0,0,0}, {218,177,64}, {234,191,71}},
  {{236,191,68}, {213,173,62}, {0,0,0}, {218,178,64}, {213,173,62}, {0,0,0}, {217,176,64}, {235,191,71}},
  {{233,189,67}, {231,187,67}, {220,178,64}, {235,190,68}, {234,190,68}, {220,178,65}, {231,183,69}, {231,189,72}},
  {{232,188,67}, {233,189,68}, {233,188,67}, {212,172,62}, {212,172,62}, {232,187,68}, {232,184,69}, {231,188,71}},
  {{232,188,67}, {234,189,68}, {217,172,62}, {0,0,0}, {0,0,0}, {219,173,63}, {234,188,68}, {232,189,70}},
  {{231,187,67}, {232,184,66}, {230,186,67}, {216,175,63}, {216,175,63}, {231,186,67}, {232,184,66}, {231,188,69}},
  {{232,188,68}, {232,187,67}, {233,188,67}, {235,190,68}, {235,190,68}, {232,188,68}, {231,187,67}, {231,188,70}},
};


int emoji3_2[8][8][3] = {
  {{232,188,67}, {231,187,67}, {217,176,63}, {232,187,67}, {232,187,67}, {218,176,63}, {233,188,67}, {234,191,71}},
  {{235,190,68}, {214,174,63}, {0,0,0}, {218,177,64}, {213,173,62}, {0,0,0}, {220,178,62}, {235,191,71}},
  {{235,190,68}, {214,174,63}, {0,0,0}, {217,177,64}, {214,173,63}, {0,0,0}, {200,165,76}, {233,190,72}},
  {{232,188,68}, {231,187,67}, {221,179,64}, {234,190,68}, {237,191,66}, {201,166,80}, {71,82,185}, {217,180,81}},
  {{232,189,68}, {232,188,67}, {216,175,63}, {212,171,62}, {212,171,61}, {213,172,65}, {215,173,80}, {230,188,72}},
  {{234,190,69}, {219,177,64}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {222,179,63}, {234,191,70}},
  {{232,188,68}, {231,183,66}, {214,173,63}, {214,173,62}, {214,173,62}, {216,175,63}, {231,183,66}, {231,188,69}},
  {{232,188,69}, {233,188,67}, {235,190,68}, {235,190,68}, {235,190,68}, {235,190,68}, {232,187,67}, {231,188,70}},
};


int emoji3_3[8][8][3] = {
  {{235,191,67}, {233,188,67}, {217,176,62}, {233,189,67}, {233,189,67}, {217,175,62}, {233,189,67}, {234,190,68}},
  {{235,191,68}, {214,174,63}, {0,0,0}, {216,176,64}, {215,175,63}, {0,0,0}, {218,176,61}, {235,190,68}},
  {{236,191,68}, {214,174,63}, {0,0,0}, {217,176,64}, {216,175,63}, {0,0,0}, {198,163,75}, {233,189,70}},
  {{233,188,67}, {232,187,67}, {222,180,64}, {235,190,68}, {237,192,66}, {203,168,79}, {51,70,199}, {213,176,82}},
  {{233,189,67}, {234,189,68}, {215,174,63}, {211,170,61}, {213,172,59}, {195,161,77}, {58,75,196}, {214,176,82}},
  {{232,189,68}, {201,164,59}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {187,153,68}, {232,188,69}},
  {{215,175,63}, {0,0,0}, {197,160,58}, {217,176,63}, {217,176,63}, {200,163,59}, {0,0,0}, {215,174,62}},
  {{230,187,67}, {216,175,62}, {233,189,67}, {236,191,68}, {235,191,68}, {233,189,68}, {216,175,63}, {231,187,67}},
};


int emoji3_4[8][8][3] = {
  {{233,189,67}, {231,187,67}, {218,176,63}, {232,188,67}, {232,187,67}, {218,176,63}, {233,188,67}, {233,190,69}},
  {{236,191,68}, {214,173,63}, {0,0,0}, {218,177,64}, {215,174,63}, {0,0,0}, {219,177,61}, {235,190,69}},
  {{236,191,68}, {214,173,63}, {0,0,0}, {217,176,64}, {215,175,62}, {0,0,0}, {202,166,73}, {236,191,68}},
  {{233,189,67}, {231,187,67}, {220,178,64}, {234,190,68}, {235,190,67}, {184,156,91}, {56,73,196}, {199,167,92}},
  {{232,189,67}, {234,189,68}, {218,177,63}, {216,175,60}, {201,165,71}, {41,61,192}, {9,43,233}, {26,54,220}},
  {{233,189,68}, {204,165,60}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,38,201}, {8,42,233}},
  {{215,175,63}, {0,0,0}, {198,160,55}, {199,163,74}, {23,48,203}, {7,36,197}, {0,0,0}, {9,40,213}},
  {{232,188,67}, {215,174,62}, {238,192,66}, {221,182,81}, {27,55,223}, {7,41,235}, {9,39,214}, {9,42,229}},
};


int emoji3_5[8][8][3] = {
  {{234,190,67}, {233,188,67}, {217,176,62}, {233,189,67}, {233,188,67}, {217,175,62}, {233,189,67}, {234,190,70}},
  {{234,190,68}, {214,174,63}, {0,0,0}, {217,176,64}, {214,174,63}, {0,0,0}, {219,177,61}, {235,191,70}},
  {{235,190,68}, {215,174,63}, {0,0,0}, {217,176,64}, {215,174,62}, {0,0,0}, {201,166,74}, {236,192,69}},
  {{235,190,66}, {234,189,65}, {222,180,64}, {235,190,68}, {235,190,67}, {184,155,93}, {55,72,197}, {199,167,94}},
  {{216,178,81}, {216,178,81}, {217,176,62}, {217,175,58}, {199,164,71}, {38,59,193}, {9,43,233}, {25,53,221}},
  {{28,55,218}, {26,48,189}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,37,200}, {9,43,232}},
  {{9,40,216}, {0,0,0}, {7,35,196}, {8,39,215}, {7,39,216}, {9,37,196}, {0,0,0}, {10,41,214}},
  {{11,44,230}, {8,39,214}, {11,43,232}, {10,43,234}, {9,43,234}, {10,43,231}, {9,39,214}, {11,43,228}},
};


int emoji3_6[8][8][3] = {
  {{234,190,67}, {232,188,67}, {218,176,63}, {233,188,67}, {232,188,67}, {218,176,63}, {234,189,67}, {234,191,72}},
  {{236,191,68}, {212,172,62}, {0,0,0}, {219,178,64}, {211,171,62}, {0,0,0}, {221,179,62}, {235,191,73}},
  {{238,193,66}, {215,174,60}, {0,0,0}, {222,179,62}, {215,174,60}, {0,0,0}, {204,168,74}, {236,192,72}},
  {{217,178,79}, {215,177,79}, {202,166,78}, {215,177,82}, {216,179,81}, {180,153,95}, {56,73,196}, {202,170,94}},
  {{27,54,218}, {28,55,218}, {29,52,201}, {26,50,198}, {26,50,197}, {25,50,202}, {11,44,231}, {29,57,221}},
  {{8,41,233}, {7,36,202}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,38,202}, {13,46,232}},
  {{11,40,213}, {0,0,0}, {10,35,178}, {10,37,193}, {9,37,194}, {10,34,175}, {0,0,0}, {14,45,217}},
  {{9,43,232}, {8,38,199}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,38,201}, {14,46,231}},
};


int emoji3_7[8][8][3] = {
  {{232,188,67}, {234,189,67}, {239,194,69}, {234,190,68}, {234,190,68}, {240,194,69}, {235,190,68}, {234,190,67}},
  {{241,193,61}, {236,189,61}, {189,153,54}, {236,189,61}, {237,189,61}, {188,152,54}, {236,188,61}, {242,193,61}},
  {{163,140,122}, {148,127,111}, {0,0,0}, {147,126,111}, {148,127,113}, {0,0,0}, {144,124,112}, {160,138,124}},
  {{3,39,237}, {3,37,226}, {7,25,125}, {3,37,225}, {3,37,227}, {7,25,126}, {3,37,224}, {2,38,239}},
  {{11,44,230}, {11,43,232}, {10,45,245}, {10,44,238}, {10,44,238}, {10,45,245}, {11,44,232}, {10,43,232}},
  {{11,44,232}, {10,42,222}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {10,41,219}, {10,43,234}},
  {{12,42,217}, {0,0,0}, {9,30,151}, {9,32,164}, {9,32,164}, {9,31,154}, {0,0,0}, {9,40,216}},
  {{11,44,230}, {8,35,184}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,34,180}, {9,42,231}},
};


int emoji3_8[8][8][3] = {
  {{218,180,79}, {216,178,82}, {215,177,81}, {216,177,79}, {215,177,80}, {215,177,82}, {215,177,83}, {214,177,81}},
  {{33,58,214}, {32,54,198}, {28,52,198}, {31,57,214}, {30,56,214}, {28,52,197}, {30,53,198}, {30,56,214}},
  {{7,39,218}, {0,0,0}, {0,0,0}, {7,39,221}, {7,39,219}, {0,0,0}, {0,0,0}, {8,39,218}},
  {{10,43,230}, {11,40,210}, {10,40,213}, {10,43,231}, {11,43,231}, {10,40,214}, {11,40,212}, {10,43,229}},
  {{10,43,232}, {11,44,233}, {10,40,216}, {10,39,211}, {10,40,210}, {10,40,215}, {11,44,233}, {10,43,231}},
  {{10,43,232}, {10,38,200}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {10,38,199}, {10,43,231}},
  {{10,40,213}, {0,0,0}, {10,35,178}, {10,37,193}, {9,37,193}, {10,35,178}, {0,0,0}, {9,40,214}},
  {{9,42,233}, {9,37,199}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,38,198}, {9,43,233}},
};


int emoji3_9[8][8][3] = {
  {{11,44,230}, {11,44,232}, {10,43,232}, {10,43,229}, {11,43,230}, {9,43,233}, {11,43,232}, {9,43,231}},
  {{10,43,230}, {10,41,214}, {7,38,214}, {10,43,229}, {10,43,229}, {7,38,213}, {10,40,213}, {10,43,229}},
  {{10,41,216}, {0,0,0}, {0,0,0}, {10,41,218}, {10,41,218}, {0,0,0}, {0,0,0}, {10,41,216}},
  {{10,43,228}, {11,40,210}, {10,40,212}, {10,43,231}, {11,43,231}, {10,40,213}, {11,40,211}, {10,43,230}},
  {{10,43,231}, {11,44,233}, {10,41,217}, {10,40,212}, {10,40,211}, {10,40,216}, {11,44,233}, {10,43,233}},
  {{10,43,231}, {10,39,202}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {10,38,199}, {9,43,233}},
  {{11,41,214}, {0,0,0}, {10,34,176}, {10,37,193}, {9,37,193}, {10,35,179}, {0,0,0}, {8,39,214}},
  {{9,43,233}, {8,37,199}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {9,37,196}, {9,42,234}},
};
int emoji4_1[8][8][3] = {
  {{236,189,71}, {234,188,72}, {237,190,73}, {235,188,72}, {236,189,72}, {239,191,73}, {237,190,71}, {236,189,73}},
  {{237,189,72}, {233,187,72}, {218,175,68}, {234,187,72}, {233,187,72}, {216,173,67}, {233,187,72}, {234,188,73}},
  {{239,192,73}, {217,174,68}, {0,0,0}, {223,178,69}, {218,175,68}, {0,0,0}, {220,177,68}, {236,190,73}},
  {{236,189,72}, {233,187,72}, {219,176,68}, {236,189,73}, {236,189,73}, {221,177,69}, {234,187,72}, {234,188,72}},
  {{236,189,72}, {235,188,73}, {235,189,73}, {214,172,67}, {214,171,67}, {235,188,73}, {235,188,73}, {234,188,72}},
  {{235,188,72}, {237,190,73}, {221,177,68}, {0,0,0}, {0,0,0}, {221,177,68}, {237,190,73}, {235,188,72}},
  {{234,188,72}, {235,188,72}, {234,187,72}, {220,176,68}, {220,176,68}, {234,187,72}, {235,188,72}, {235,188,71}},
  {{233,187,72}, {234,188,73}, {234,188,73}, {237,190,75}, {237,190,75}, {234,189,75}, {234,189,76}, {235,190,76}},
};


int emoji4_2[8][8][3] = {
  {{236,189,71}, {237,190,73}, {237,190,73}, {235,188,72}, {236,189,72}, {239,191,73}, {240,192,72}, {236,190,75}},
  {{235,188,71}, {218,175,68}, {218,175,68}, {234,187,72}, {233,187,72}, {215,172,67}, {216,173,66}, {233,187,75}},
  {{218,175,66}, {0,0,0}, {0,0,0}, {226,181,70}, {219,175,68}, {0,0,0}, {0,0,0}, {223,179,72}},
  {{235,188,71}, {215,173,67}, {219,175,68}, {237,189,73}, {236,189,73}, {220,176,68}, {219,176,67}, {233,187,74}},
  {{237,190,72}, {236,189,73}, {220,176,68}, {215,173,67}, {215,172,67}, {218,175,68}, {236,189,72}, {234,188,74}},
  {{239,191,73}, {219,176,68}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {223,179,69}, {236,190,73}},
  {{236,189,72}, {233,187,72}, {216,173,67}, {215,173,67}, {216,173,67}, {219,175,68}, {234,187,72}, {234,188,72}},
  {{237,189,71}, {237,189,72}, {239,191,73}, {238,191,73}, {238,190,73}, {237,190,73}, {234,188,72}, {233,187,72}},
};


int emoji4_3[8][8][3] = {
  {{236,189,72}, {236,189,73}, {237,190,73}, {235,188,72}, {235,188,72}, {239,191,73}, {239,191,73}, {239,191,72}},
  {{235,188,72}, {220,176,68}, {219,176,68}, {234,187,72}, {234,187,72}, {217,174,68}, {217,174,68}, {235,188,71}},
  {{220,177,68}, {0,0,0}, {0,0,0}, {222,178,68}, {224,179,69}, {0,0,0}, {0,0,0}, {220,176,67}},
  {{233,187,71}, {214,171,67}, {216,173,67}, {236,189,73}, {236,189,73}, {219,175,68}, {217,174,68}, {235,188,70}},
  {{235,189,72}, {239,191,74}, {223,179,69}, {218,175,68}, {217,174,68}, {221,177,69}, {238,190,73}, {238,190,71}},
  {{235,189,72}, {210,169,66}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {202,162,63}, {238,190,71}},
  {{219,176,68}, {0,0,0}, {194,156,61}, {214,172,67}, {214,172,67}, {202,162,63}, {0,0,0}, {214,172,65}},
  {{234,187,71}, {215,172,65}, {237,190,72}, {241,192,72}, {241,192,72}, {239,191,72}, {218,175,67}, {236,188,71}},
};


int emoji4_4[8][8][3] = {
  {{236,189,72}, {237,190,73}, {238,190,73}, {236,189,72}, {237,191,72}, {239,178,70}, {231,88,49}, {234,170,70}},
  {{235,188,72}, {218,175,68}, {217,174,68}, {234,187,72}, {233,188,72}, {214,162,64}, {206,71,44}, {224,88,52}},
  {{220,176,68}, {0,0,0}, {0,0,0}, {224,180,69}, {220,177,68}, {0,0,0}, {0,0,0}, {221,170,69}},
  {{233,187,71}, {216,173,67}, {219,175,68}, {237,189,73}, {236,189,73}, {221,177,69}, {220,177,68}, {233,188,74}},
  {{235,189,72}, {238,191,73}, {220,176,68}, {215,172,67}, {214,172,67}, {218,175,68}, {238,191,73}, {235,189,73}},
  {{235,188,72}, {206,165,64}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {204,164,63}, {235,188,72}},
  {{218,175,68}, {0,0,0}, {199,160,63}, {218,175,67}, {219,175,68}, {201,162,63}, {0,0,0}, {218,175,67}},
  {{234,188,72}, {218,175,67}, {237,189,72}, {239,191,73}, {238,190,73}, {235,188,72}, {219,175,68}, {232,186,72}},
};


int emoji4_5[8][8][3] = {
  {{226,68,44}, {226,71,47}, {226,71,47}, {223,69,46}, {224,69,46}, {226,70,46}, {226,70,46}, {223,68,45}},
  {{225,74,45}, {209,65,43}, {210,65,43}, {224,77,47}, {224,77,47}, {207,64,43}, {207,64,43}, {224,77,47}},
  {{213,161,63}, {0,0,0}, {0,0,0}, {227,172,68}, {219,167,66}, {0,0,0}, {0,0,0}, {220,168,66}},
  {{234,189,71}, {214,173,67}, {218,176,68}, {237,191,73}, {236,191,73}, {220,177,69}, {218,176,68}, {234,189,72}},
  {{238,190,72}, {238,191,73}, {219,176,68}, {214,172,67}, {214,171,67}, {218,174,68}, {238,191,73}, {237,190,72}},
  {{237,190,72}, {200,161,63}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {201,161,63}, {237,189,72}},
  {{215,172,65}, {0,0,0}, {205,164,64}, {219,176,68}, {220,176,68}, {203,163,63}, {0,0,0}, {219,175,66}},
  {{234,187,70}, {218,174,68}, {235,189,73}, {237,190,74}, {237,190,75}, {235,189,75}, {221,178,71}, {235,188,74}},
};


int emoji4_6[8][8][3] = {
  {{229,68,43}, {229,70,45}, {229,70,45}, {226,69,45}, {226,69,45}, {229,70,45}, {229,69,45}, {226,73,50}},
  {{224,68,44}, {203,64,42}, {204,64,43}, {223,69,46}, {222,69,45}, {203,64,42}, {205,64,42}, {223,74,50}},
  {{209,63,41}, {0,0,0}, {0,0,0}, {217,67,44}, {208,65,43}, {0,0,0}, {0,0,0}, {215,72,49}},
  {{225,66,43}, {211,64,43}, {214,67,44}, {227,70,46}, {226,70,46}, {213,66,44}, {211,63,42}, {223,73,51}},
  {{228,82,47}, {228,82,49}, {203,63,42}, {200,61,41}, {200,61,41}, {205,64,42}, {229,82,48}, {226,86,54}},
  {{236,183,69}, {193,150,60}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {204,157,62}, {234,183,76}},
  {{215,173,65}, {0,0,0}, {211,170,65}, {223,180,69}, {224,181,69}, {200,161,62}, {0,0,0}, {224,182,74}},
  {{235,189,76}, {223,180,74}, {236,190,77}, {237,191,77}, {237,191,77}, {235,189,76}, {222,179,72}, {233,189,81}},
};


int emoji4_7[8][8][3] = {
  {{223,70,47}, {226,70,46}, {226,70,46}, {224,69,45}, {225,69,45}, {228,70,46}, {229,70,46}, {226,70,47}},
  {{223,70,47}, {209,65,43}, {208,65,43}, {223,69,46}, {223,69,46}, {206,65,43}, {206,65,43}, {222,70,46}},
  {{212,68,46}, {0,0,0}, {0,0,0}, {212,66,43}, {213,66,44}, {0,0,0}, {0,0,0}, {210,66,44}},
  {{223,71,48}, {206,64,43}, {208,65,43}, {226,70,46}, {226,70,46}, {211,66,44}, {209,65,43}, {222,69,45}},
  {{225,72,49}, {228,70,46}, {210,66,43}, {205,64,43}, {204,64,42}, {208,65,43}, {227,70,46}, {225,69,45}},
  {{225,73,50}, {199,62,41}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {192,61,40}, {225,69,45}},
  {{213,70,49}, {0,0,0}, {188,60,40}, {209,66,43}, {210,65,43}, {195,61,41}, {0,0,0}, {208,64,42}},
  {{224,73,50}, {208,64,42}, {224,69,45}, {227,70,46}, {227,70,46}, {225,70,46}, {210,67,45}, {223,70,47}},
};


int emoji4_8[8][8][3] = {
  {{225,69,45}, {223,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,69,45}, {224,68,44}, {225,73,49}},
  {{226,69,44}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,69,45}, {224,73,50}},
  {{226,69,44}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,69,45}, {224,72,48}},
  {{226,69,44}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,69,46}, {224,71,48}},
  {{226,69,44}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,71,47}},
  {{226,69,44}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {224,70,46}, {223,70,46}},
  {{226,68,44}, {224,69,45}, {224,69,45}, {224,69,45}, {224,69,45}, {224,69,45}, {224,69,45}, {223,69,45}},
  {{226,71,47}, {224,73,49}, {224,73,50}, {224,74,51}, {224,75,52}, {224,75,52}, {224,76,53}, {224,76,53}},
};

int emoji5_1[8][8][3] = {
  {{233,188,75}, {234,188,72}, {236,189,73}, {234,188,72}, {234,188,72}, {237,190,72}, {235,188,72}, {236,189,72}},
  {{234,188,75}, {234,187,72}, {222,178,69}, {233,187,72}, {234,187,72}, {221,177,68}, {233,187,72}, {236,189,72}},
  {{236,191,76}, {223,178,69}, {0,0,0}, {216,173,67}, {224,180,69}, {0,0,0}, {215,173,67}, {239,191,73}},
  {{234,189,76}, {233,187,72}, {214,172,67}, {234,188,72}, {236,189,72}, {216,173,67}, {233,186,72}, {237,190,72}},
  {{234,189,76}, {235,188,72}, {237,190,73}, {222,178,69}, {221,177,68}, {236,189,73}, {235,188,72}, {237,189,71}},
  {{234,189,77}, {236,190,72}, {225,181,70}, {0,0,0}, {0,0,0}, {216,173,67}, {237,190,73}, {237,189,71}},
  {{234,189,77}, {235,188,72}, {233,187,72}, {211,169,66}, {210,169,66}, {232,186,72}, {235,188,72}, {237,189,71}},
  {{236,190,77}, {237,189,70}, {237,189,71}, {240,192,72}, {240,192,72}, {237,189,71}, {237,189,71}, {239,190,70}},
};


int emoji5_2[8][8][3] = {
  {{238,190,71}, {234,187,71}, {220,176,67}, {236,188,72}, {235,188,71}, {219,176,67}, {235,188,71}, {238,190,71}},
  {{240,192,72}, {212,170,66}, {0,0,0}, {223,179,69}, {217,174,68}, {0,0,0}, {217,175,67}, {239,191,71}},
  {{240,192,72}, {212,171,66}, {0,0,0}, {222,178,69}, {218,174,68}, {0,0,0}, {218,174,67}, {240,192,72}},
  {{237,189,71}, {233,187,72}, {222,178,68}, {237,189,73}, {236,189,73}, {223,179,69}, {234,187,72}, {237,189,72}},
  {{237,189,71}, {235,188,72}, {235,189,72}, {215,172,67}, {215,172,67}, {235,188,72}, {235,188,72}, {237,189,71}},
  {{237,189,71}, {237,190,73}, {219,176,68}, {0,0,0}, {0,0,0}, {220,177,68}, {237,190,73}, {237,189,71}},
  {{237,189,71}, {235,188,72}, {233,187,72}, {218,175,68}, {219,175,68}, {234,187,72}, {235,188,72}, {237,189,71}},
  {{238,189,71}, {235,188,72}, {235,188,72}, {237,190,72}, {237,190,73}, {234,188,72}, {234,188,73}, {236,189,72}},
};


int emoji5_3[8][8][3] = {
  {{234,188,73}, {234,187,71}, {222,178,68}, {235,188,72}, {235,188,72}, {222,177,68}, {236,188,70}, {236,191,78}},
  {{237,190,75}, {218,175,68}, {0,0,0}, {220,176,68}, {215,172,67}, {0,0,0}, {222,178,67}, {236,191,78}},
  {{237,190,75}, {217,174,68}, {0,0,0}, {219,175,68}, {215,172,67}, {0,0,0}, {222,177,67}, {238,192,77}},
  {{234,188,75}, {233,187,72}, {218,175,68}, {235,188,72}, {235,188,72}, {220,176,68}, {234,187,71}, {234,189,77}},
  {{234,188,75}, {234,188,72}, {227,182,70}, {223,179,69}, {223,179,69}, {226,181,70}, {234,188,72}, {234,189,77}},
  {{236,191,76}, {223,179,69}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {223,179,69}, {236,191,77}},
  {{234,189,76}, {233,186,72}, {207,166,65}, {205,164,64}, {205,165,64}, {209,168,65}, {233,187,72}, {234,189,76}},
  {{236,190,76}, {237,189,71}, {240,192,72}, {241,192,72}, {241,192,72}, {240,192,72}, {237,189,71}, {236,190,74}},
};


int emoji5_4[8][8][3] = {
  {{236,189,72}, {232,186,72}, {220,176,68}, {233,187,71}, {233,187,71}, {220,176,68}, {234,187,72}, {235,188,72}},
  {{240,192,72}, {215,172,67}, {0,0,0}, {222,178,69}, {217,174,67}, {0,0,0}, {219,176,67}, {237,189,71}},
  {{240,192,72}, {216,173,67}, {0,0,0}, {221,177,68}, {217,174,68}, {0,0,0}, {221,177,68}, {238,190,71}},
  {{235,188,72}, {218,175,68}, {221,177,68}, {237,189,73}, {237,189,73}, {222,178,69}, {216,173,67}, {233,187,71}},
  {{218,174,67}, {0,0,0}, {204,164,64}, {217,174,68}, {217,174,67}, {201,161,63}, {0,0,0}, {218,175,67}},
  {{237,190,72}, {203,163,63}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {205,165,64}, {237,189,72}},
  {{236,189,72}, {236,189,73}, {217,174,67}, {216,173,67}, {216,173,67}, {219,175,68}, {236,189,72}, {236,189,72}},
  {{237,189,72}, {236,189,72}, {238,190,72}, {238,190,72}, {237,190,72}, {237,190,73}, {234,188,72}, {236,189,72}},
};


int emoji5_5[8][8][3] = {
  {{237,189,71}, {236,188,72}, {238,190,72}, {236,189,72}, {237,189,72}, {239,191,73}, {237,190,72}, {236,189,71}},
  {{237,189,71}, {233,187,72}, {222,178,69}, {234,187,72}, {233,187,72}, {220,177,68}, {233,187,71}, {234,188,71}},
  {{240,192,72}, {211,169,66}, {0,0,0}, {224,180,69}, {215,172,67}, {0,0,0}, {220,176,67}, {238,190,71}},
  {{240,192,72}, {210,169,66}, {0,0,0}, {224,179,69}, {215,173,67}, {0,0,0}, {219,176,68}, {237,190,72}},
  {{237,190,71}, {235,188,72}, {219,175,68}, {234,187,72}, {233,187,72}, {220,176,68}, {236,189,72}, {235,188,72}},
  {{235,188,71}, {223,178,69}, {238,191,73}, {237,190,73}, {238,190,73}, {238,190,73}, {220,177,68}, {234,187,71}},
  {{214,171,65}, {0,0,0}, {208,167,65}, {221,177,69}, {221,177,69}, {202,163,63}, {0,0,0}, {218,175,67}},
  {{238,190,70}, {195,157,60}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {202,161,62}, {239,191,71}},
};


int emoji5_6[8][8][3] = {
  {{236,189,72}, {233,187,72}, {222,178,69}, {233,187,72}, {233,187,72}, {221,177,68}, {233,186,71}, {237,189,71}},
  {{240,192,72}, {217,174,67}, {0,0,0}, {219,176,68}, {222,178,69}, {0,0,0}, {215,172,66}, {240,192,71}},
  {{240,192,73}, {218,174,68}, {0,0,0}, {218,174,68}, {221,178,68}, {0,0,0}, {215,172,67}, {241,192,71}},
  {{236,188,72}, {223,178,69}, {216,174,67}, {235,188,72}, {236,189,72}, {218,175,68}, {220,177,68}, {235,188,71}},
  {{218,175,67}, {0,0,0}, {209,168,65}, {225,180,69}, {224,179,69}, {212,170,66}, {0,0,0}, {214,171,65}},
  {{236,188,72}, {198,159,62}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {195,157,62}, {237,189,71}},
  {{236,189,72}, {236,189,73}, {209,168,65}, {207,166,64}, {207,166,65}, {210,168,66}, {235,188,72}, {237,190,71}},
  {{237,189,71}, {237,189,71}, {240,192,72}, {241,192,72}, {241,192,72}, {240,192,72}, {237,189,71}, {239,190,70}},
};


int emoji5_7[8][8][3] = {
  {{236,189,74}, {237,190,72}, {240,191,72}, {237,190,71}, {237,189,71}, {240,191,72}, {237,190,71}, {239,190,70}},
  {{234,188,74}, {234,187,72}, {220,177,68}, {233,187,72}, {234,187,72}, {219,176,68}, {232,186,71}, {237,189,70}},
  {{237,190,75}, {221,177,69}, {0,0,0}, {213,171,66}, {224,180,69}, {0,0,0}, {212,170,66}, {241,192,71}},
  {{236,190,75}, {222,177,68}, {0,0,0}, {213,171,66}, {224,180,69}, {0,0,0}, {211,170,66}, {240,192,72}},
  {{234,189,75}, {236,189,72}, {220,176,68}, {233,187,72}, {234,187,72}, {221,177,68}, {235,188,72}, {237,190,71}},
  {{233,188,75}, {223,178,69}, {237,190,73}, {238,190,73}, {238,190,73}, {238,191,73}, {221,177,68}, {235,187,71}},
  {{223,180,73}, {0,0,0}, {198,159,62}, {222,178,69}, {221,177,69}, {209,168,65}, {0,0,0}, {212,170,65}},
  {{236,191,75}, {205,164,62}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {194,156,59}, {239,190,70}},
};


int emoji5_8[8][8][3] = {
  {{238,190,72}, {234,188,71}, {221,177,68}, {235,188,72}, {236,188,72}, {221,177,67}, {235,188,71}, {239,190,70}},
  {{239,191,73}, {217,174,68}, {0,0,0}, {218,175,68}, {221,178,69}, {0,0,0}, {214,171,66}, {240,192,71}},
  {{239,191,73}, {219,176,68}, {0,0,0}, {217,174,67}, {222,178,69}, {0,0,0}, {215,173,67}, {241,192,71}},
  {{234,187,72}, {222,178,69}, {218,175,68}, {235,189,72}, {236,189,72}, {220,176,68}, {220,176,68}, {235,188,71}},
  {{218,175,67}, {0,0,0}, {208,167,65}, {224,180,69}, {223,179,69}, {211,170,66}, {0,0,0}, {214,171,65}},
  {{234,188,71}, {199,160,63}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {195,157,62}, {237,189,71}},
  {{234,188,72}, {236,189,73}, {209,168,65}, {207,166,65}, {207,166,65}, {210,168,65}, {235,188,72}, {237,190,71}},
  {{236,189,71}, {237,189,71}, {240,192,72}, {241,192,72}, {241,192,72}, {240,192,72}, {237,189,71}, {239,190,70}},
};

int emoji6_1[8][8][3] = {
  {{239,190,70}, {237,189,71}, {240,191,72}, {237,189,71}, {237,189,71}, {240,191,72}, {237,189,71}, {237,189,70}},
 {{237,189,71}, {233,186,72}, {220,176,68}, {234,187,72}, {233,187,72}, {220,176,68}, {233,187,72}, {235,188,71}},
 {{240,192,73}, {210,168,66}, {0,0,0}, {224,180,70}, {215,173,67}, {0,0,0}, {220,176,68}, {238,190,73}},
 {{241,192,73}, {212,170,67}, {0,0,0}, {224,180,70}, {215,173,67}, {0,0,0}, {222,178,69}, {238,190,73}},
 {{235,187,71}, {218,175,68}, {221,177,69}, {237,190,73}, {236,189,73}, {221,177,69}, {219,175,68}, {234,187,71}},
 {{212,170,64}, {0,0,0}, {210,168,66}, {220,177,68}, {221,177,69}, {202,163,64}, {0,0,0}, {220,176,67}},
 {{237,189,72}, {197,158,62}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {204,164,64}, {235,188,72}},
 {{240,191,71}, {237,189,72}, {214,171,65}, {212,170,65}, {212,169,65}, {215,172,65}, {238,190,72}, {238,190,71}},
};


int emoji6_2[8][8][3] = {
  {{239,190,70}, {237,189,71}, {240,192,72}, {237,189,71}, {237,189,71}, {240,191,72}, {237,189,71}, {239,190,70}},
 {{237,189,71}, {232,186,72}, {215,172,67}, {233,187,72}, {233,187,72}, {215,172,67}, {232,186,72}, {237,189,71}},
 {{240,192,73}, {212,171,66}, {0,0,0}, {221,177,69}, {219,176,68}, {0,0,0}, {215,172,67}, {240,192,73}},
 {{239,192,73}, {213,171,66}, {0,0,0}, {222,178,69}, {220,177,68}, {0,0,0}, {216,173,67}, {239,192,72}},
 {{237,189,72}, {234,187,72}, {227,182,70}, {237,190,73}, {237,190,73}, {227,182,70}, {234,187,72}, {237,189,72}},
 {{237,189,71}, {233,187,72}, {217,174,68}, {214,172,67}, {214,172,67}, {218,174,68}, {233,188,72}, {238,190,71}},
 {{239,191,72}, {217,174,68}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {219,176,68}, {239,191,72}},
 {{239,191,72}, {235,188,72}, {217,174,67}, {216,173,67}, {216,173,67}, {217,174,67}, {235,188,72}, {239,191,72}},
};


int emoji6_3[8][8][3] = {
  {{235,189,73}, {236,189,72}, {236,189,72}, {236,189,72}, {236,189,72}, {236,189,72}, {236,189,72}, {235,189,74}},
 {{234,188,73}, {235,188,72}, {237,190,73}, {235,188,72}, {237,190,73}, {235,188,72}, {235,188,72}, {234,188,74}},
 {{234,188,74}, {233,187,72}, {218,175,68}, {231,185,72}, {218,175,68}, {233,187,72}, {235,188,73}, {234,188,75}},
 {{237,190,74}, {218,174,68}, {0,0,0}, {196,158,62}, {0,0,0}, {218,174,68}, {238,190,73}, {234,188,74}},
 {{237,190,74}, {219,175,68}, {0,0,0}, {202,162,63}, {0,0,0}, {219,175,68}, {238,190,73}, {234,188,75}},
 {{234,188,73}, {232,186,72}, {201,161,63}, {206,165,64}, {201,161,63}, {232,186,72}, {236,189,72}, {235,189,74}},
 {{236,190,74}, {222,178,68}, {0,0,0}, {0,0,0}, {0,0,0}, {223,178,69}, {237,190,72}, {234,188,74}},
 {{234,190,79}, {234,189,78}, {218,175,70}, {214,172,67}, {215,173,68}, {228,183,73}, {235,190,78}, {234,190,80}},
};


int emoji6_4[8][8][3] = {
  {{239,190,70}, {237,189,71}, {237,189,71}, {237,189,71}, {237,189,71}, {237,189,71}, {237,189,71}, {237,189,70}},
 {{237,189,71}, {237,190,73}, {235,188,72}, {237,190,73}, {235,188,72}, {235,188,72}, {235,188,72}, {235,188,71}},
 {{234,187,71}, {219,175,68}, {232,185,72}, {218,175,68}, {233,187,72}, {235,188,73}, {235,188,73}, {235,188,72}},
 {{210,168,64}, {0,0,0}, {199,160,63}, {0,0,0}, {219,176,68}, {237,190,73}, {235,188,73}, {235,188,72}},
 {{211,169,65}, {0,0,0}, {202,163,64}, {0,0,0}, {220,177,68}, {237,190,74}, {235,188,73}, {235,188,72}},
 {{233,186,70}, {204,164,64}, {212,170,66}, {204,164,64}, {233,186,72}, {235,188,73}, {235,189,72}, {236,189,72}},
 {{217,173,66}, {0,0,0}, {0,0,0}, {0,0,0}, {224,179,69}, {236,189,73}, {235,188,72}, {235,188,72}},
 {{236,189,71}, {217,174,67}, {215,172,67}, {217,174,67}, {235,188,72}, {237,190,73}, {237,189,73}, {237,189,72}},
};


int emoji6_5[8][8][3] = {
  {{233,187,73}, {234,187,72}, {234,188,72}, {204,164,64}, {0,0,0}, {0,0,0}, {0,0,0}, {200,160,62}},
 {{236,190,74}, {237,190,72}, {223,179,69}, {0,0,0}, {197,158,62}, {218,175,67}, {185,149,59}, {0,0,0}},
 {{220,177,70}, {232,186,72}, {220,176,69}, {216,173,67}, {237,189,73}, {210,168,66}, {0,0,0}, {198,159,62}},
 {{0,0,0}, {198,160,63}, {0,0,0}, {219,176,68}, {222,178,69}, {0,0,0}, {198,159,63}, {239,191,73}},
 {{0,0,0}, {201,162,63}, {0,0,0}, {216,174,67}, {222,177,69}, {0,0,0}, {218,175,68}, {239,191,73}},
 {{200,161,64}, {213,171,66}, {203,163,64}, {232,186,71}, {233,186,72}, {204,164,64}, {232,186,71}, {237,190,72}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {221,177,68}, {223,179,69}, {0,0,0}, {218,175,68}, {238,191,72}},
 {{213,172,68}, {214,171,67}, {215,173,67}, {234,187,72}, {234,187,72}, {217,174,68}, {233,187,72}, {236,189,72}},
};


int emoji6_6[8][8][3] = {
  {{235,189,73}, {236,189,72}, {236,189,72}, {203,162,62}, {0,0,0}, {0,0,0}, {0,0,0}, {199,159,61}},
 {{237,190,74}, {237,190,72}, {223,179,69}, {0,0,0}, {201,161,63}, {221,178,68}, {185,148,58}, {0,0,0}},
 {{217,175,69}, {232,186,72}, {218,175,68}, {218,175,68}, {237,189,73}, {206,166,65}, {0,0,0}, {201,162,63}},
 {{0,0,0}, {198,159,63}, {0,0,0}, {219,175,68}, {221,178,69}, {0,0,0}, {202,161,63}, {239,191,73}},
 {{0,0,0}, {202,162,64}, {0,0,0}, {217,174,67}, {221,178,69}, {0,0,0}, {219,175,68}, {239,191,73}},
 {{199,160,64}, {209,168,65}, {202,162,63}, {232,186,71}, {232,186,72}, {204,163,64}, {232,186,71}, {236,189,72}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {222,178,69}, {223,179,69}, {0,0,0}, {218,175,68}, {238,190,72}},
 {{216,175,71}, {217,175,70}, {216,174,68}, {230,184,71}, {230,185,71}, {218,174,68}, {233,187,74}, {235,188,74}},
};


int emoji6_7[8][8][3] = {
  {{239,191,71}, {239,191,72}, {219,175,66}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
 {{239,192,73}, {237,190,73}, {219,176,68}, {0,0,0}, {203,162,63}, {223,180,69}, {184,148,59}, {0,0,0}},
 {{219,176,68}, {232,186,72}, {217,174,68}, {222,178,69}, {237,189,73}, {205,165,64}, {0,0,0}, {206,165,64}},
 {{0,0,0}, {199,159,63}, {0,0,0}, {222,178,69}, {220,177,68}, {0,0,0}, {202,163,63}, {240,192,73}},
 {{0,0,0}, {202,162,64}, {0,0,0}, {220,177,68}, {218,175,68}, {0,0,0}, {217,174,67}, {240,192,73}},
 {{203,163,63}, {212,170,66}, {203,163,64}, {235,188,72}, {216,173,67}, {0,0,0}, {215,173,67}, {241,192,72}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {224,179,69}, {220,176,68}, {0,0,0}, {217,174,67}, {239,192,72}},
 {{217,174,67}, {215,172,67}, {217,174,67}, {234,187,72}, {234,187,72}, {221,177,68}, {234,187,72}, {237,189,72}},
};


int emoji6_8[8][8][3] = {
  {{239,190,71}, {240,191,73}, {217,173,66}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
 {{239,191,72}, {238,190,73}, {219,176,67}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
 {{221,176,67}, {232,186,72}, {219,175,68}, {222,178,69}, {199,160,63}, {0,0,0}, {203,163,64}, {221,177,68}},
 {{0,0,0}, {198,159,63}, {0,0,0}, {224,180,70}, {218,175,68}, {0,0,0}, {220,177,68}, {239,192,73}},
 {{0,0,0}, {201,162,64}, {0,0,0}, {222,179,69}, {216,173,67}, {0,0,0}, {218,175,68}, {237,190,73}},
 {{202,162,62}, {213,170,66}, {204,163,64}, {235,189,73}, {213,171,67}, {0,0,0}, {218,175,68}, {238,190,72}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {226,181,70}, {217,174,67}, {0,0,0}, {219,176,68}, {236,190,72}},
 {{216,173,66}, {214,172,67}, {217,174,67}, {235,188,72}, {234,188,72}, {220,177,68}, {235,188,72}, {235,189,72}},
};


int emoji6_9[8][8][3] = {
  {{234,190,80}, {235,190,79}, {238,193,80}, {206,167,71}, {0,0,0}, {0,0,0}, {225,183,76}, {237,194,87}},
 {{236,189,72}, {237,189,72}, {209,168,63}, {0,0,0}, {0,0,0}, {188,151,58}, {236,189,71}, {235,190,79}},
 {{228,184,74}, {219,176,69}, {0,0,0}, {0,0,0}, {181,146,58}, {0,0,0}, {213,171,66}, {238,193,81}},
 {{0,0,0}, {204,166,70}, {0,0,0}, {203,164,66}, {239,191,73}, {191,154,61}, {0,0,0}, {211,171,74}},
 {{0,0,0}, {208,168,71}, {106,95,67}, {225,182,73}, {238,191,73}, {238,190,73}, {190,153,59}, {0,0,0}},
 {{207,168,72}, {217,175,72}, {210,170,71}, {233,187,72}, {235,188,72}, {236,189,73}, {235,189,71}, {216,176,75}},
 {{0,0,0}, {0,0,0}, {108,96,67}, {226,181,72}, {237,190,72}, {235,188,72}, {235,188,71}, {237,192,81}},
 {{219,178,75}, {220,178,74}, {219,177,72}, {230,185,71}, {232,186,72}, {232,186,72}, {234,188,73}, {234,190,82}},
};


int emoji6_10[8][8][3] = {
  {{234,187,72}, {235,188,72}, {206,165,64}, {0,0,0}, {0,0,0}, {0,0,0}, {204,163,64}, {237,190,71}},
 {{237,190,72}, {219,175,68}, {0,0,0}, {196,157,61}, {219,176,67}, {200,161,63}, {0,0,0}, {216,173,66}},
 {{238,190,73}, {218,175,68}, {0,0,0}, {217,174,68}, {229,184,71}, {205,164,65}, {0,0,0}, {215,173,66}},
 {{235,188,73}, {233,187,72}, {221,177,69}, {218,175,68}, {0,0,0}, {0,0,0}, {204,164,64}, {237,190,72}},
 {{235,188,73}, {235,188,73}, {240,192,74}, {217,174,68}, {0,0,0}, {195,157,62}, {238,190,74}, {237,190,72}},
 {{235,188,72}, {235,188,72}, {238,190,73}, {218,175,68}, {0,0,0}, {218,175,68}, {238,191,73}, {237,190,72}},
 {{235,188,72}, {235,188,72}, {235,188,73}, {232,186,72}, {204,164,64}, {231,185,72}, {235,188,73}, {237,189,72}},
 {{237,190,72}, {237,190,72}, {240,191,73}, {221,177,68}, {0,0,0}, {218,175,67}, {240,191,73}, {239,191,71}},
};

int emoji7_1[8][8][3] = {
  {{234,187,72}, {218,175,68}, {231,185,72}, {218,175,68}, {232,186,72}, {234,188,72}, {234,187,72}, {236,188,72}},
 {{221,176,68}, {0,0,0}, {203,163,63}, {0,0,0}, {220,177,68}, {238,190,73}, {235,188,72}, {237,189,71}},
 {{218,174,68}, {218,175,68}, {234,188,72}, {218,175,68}, {217,174,68}, {233,187,72}, {235,188,73}, {237,189,72}},
 {{0,0,0}, {204,164,64}, {220,177,68}, {204,164,64}, {0,0,0}, {218,175,68}, {237,190,73}, {239,191,72}},
 {{202,162,63}, {0,0,0}, {0,0,0}, {0,0,0}, {189,152,60}, {234,187,73}, {234,187,72}, {221,177,67}},
 {{238,190,73}, {217,174,68}, {218,174,68}, {200,160,62}, {0,0,0}, {219,176,68}, {220,177,68}, {0,0,0}},
 {{237,189,73}, {237,190,73}, {241,192,73}, {218,175,67}, {0,0,0}, {217,175,68}, {218,176,68}, {0,0,0}},
 {{236,189,73}, {234,188,73}, {237,189,73}, {215,172,67}, {0,0,0}, {217,174,68}, {218,175,68}, {0,0,0}},
};


int emoji7_2[8][8][3] = {
  {{235,187,69}, {214,171,65}, {232,185,70}, {214,171,65}, {235,188,70}, {237,189,71}, {237,189,71}, {237,189,70}},
 {{215,173,66}, {0,0,0}, {202,163,63}, {0,0,0}, {224,180,69}, {237,190,73}, {235,188,72}, {235,188,71}},
 {{213,171,65}, {224,180,70}, {236,189,73}, {223,179,69}, {213,171,67}, {233,187,72}, {235,188,73}, {235,188,72}},
 {{0,0,0}, {203,163,64}, {215,173,67}, {195,157,62}, {0,0,0}, {223,179,69}, {239,192,74}, {235,188,72}},
 {{202,162,62}, {0,0,0}, {0,0,0}, {0,0,0}, {209,167,65}, {216,174,68}, {216,174,68}, {234,187,71}},
 {{237,189,72}, {220,177,69}, {219,175,68}, {224,180,69}, {218,175,67}, {0,0,0}, {0,0,0}, {220,176,68}},
 {{237,189,72}, {237,190,73}, {237,190,72}, {240,193,73}, {216,173,67}, {0,0,0}, {0,0,0}, {219,175,68}},
 {{236,189,72}, {234,188,73}, {233,187,72}, {236,189,73}, {214,171,66}, {0,0,0}, {0,0,0}, {218,175,68}},
};


int emoji7_3[8][8][3] = {
  {{234,187,72}, {218,175,68}, {231,185,71}, {218,174,68}, {232,186,72}, {234,188,72}, {234,187,72}, {235,188,72}},
 {{220,177,68}, {0,0,0}, {203,162,63}, {0,0,0}, {221,177,68}, {238,190,73}, {235,188,72}, {236,189,71}},
 {{216,173,67}, {219,176,68}, {235,188,73}, {219,176,68}, {216,173,67}, {233,187,72}, {235,188,73}, {236,189,72}},
 {{0,0,0}, {201,162,64}, {217,175,67}, {201,161,63}, {0,0,0}, {218,175,68}, {237,190,73}, {239,191,72}},
 {{204,164,63}, {0,0,0}, {0,0,0}, {0,0,0}, {189,152,60}, {234,187,73}, {234,187,72}, {217,174,67}},
 {{238,190,73}, {220,177,68}, {221,177,69}, {201,162,63}, {0,0,0}, {219,176,68}, {220,176,68}, {0,0,0}},
 {{237,189,72}, {237,190,73}, {241,192,73}, {217,175,68}, {0,0,0}, {218,175,68}, {218,175,67}, {0,0,0}},
 {{236,190,77}, {234,189,77}, {233,187,74}, {209,168,65}, {0,0,0}, {213,171,68}, {219,177,72}, {0,0,0}},
};


int emoji7_4[8][8][3] = {
  {{234,187,71}, {218,174,67}, {231,185,71}, {217,174,67}, {233,186,71}, {235,188,72}, {234,187,72}, {234,187,71}},
 {{220,176,68}, {0,0,0}, {203,162,63}, {0,0,0}, {221,178,68}, {238,190,73}, {235,188,72}, {235,188,71}},
 {{217,174,67}, {219,176,68}, {235,188,73}, {219,175,68}, {217,174,68}, {233,187,72}, {235,188,73}, {235,188,72}},
 {{0,0,0}, {204,164,64}, {220,177,68}, {203,162,64}, {0,0,0}, {221,177,68}, {240,192,74}, {235,188,72}},
 {{202,162,63}, {0,0,0}, {0,0,0}, {0,0,0}, {203,163,64}, {220,176,69}, {220,176,68}, {234,187,71}},
 {{238,190,73}, {217,174,68}, {215,172,67}, {220,176,68}, {220,177,68}, {0,0,0}, {0,0,0}, {219,176,67}},
 {{237,189,73}, {237,190,73}, {238,190,73}, {240,192,73}, {218,175,68}, {0,0,0}, {0,0,0}, {218,175,67}},
 {{236,189,72}, {235,188,72}, {235,188,72}, {237,190,73}, {217,174,68}, {0,0,0}, {0,0,0}, {217,175,67}},
};


int emoji7_5[8][8][3] = {
  {{234,187,71}, {234,187,72}, {235,188,72}, {232,186,71}, {217,173,67}, {231,184,70}, {217,174,67}, {232,186,71}},
 {{235,188,71}, {235,188,72}, {238,190,73}, {221,176,68}, {0,0,0}, {202,162,63}, {0,0,0}, {221,177,68}},
 {{235,188,72}, {235,188,73}, {233,187,72}, {215,172,67}, {220,177,69}, {235,188,73}, {220,176,69}, {212,171,67}},
 {{238,190,72}, {238,190,73}, {218,175,68}, {0,0,0}, {200,161,63}, {217,174,67}, {199,160,63}, {0,0,0}},
 {{216,173,66}, {233,187,72}, {234,187,73}, {189,152,60}, {0,0,0}, {0,0,0}, {0,0,0}, {205,165,64}},
 {{0,0,0}, {219,175,68}, {218,175,68}, {0,0,0}, {203,164,64}, {222,178,69}, {221,177,69}, {235,189,73}},
 {{0,0,0}, {218,174,67}, {217,174,68}, {0,0,0}, {219,176,68}, {241,192,73}, {237,190,73}, {234,188,72}},
 {{0,0,0}, {218,176,73}, {211,170,67}, {0,0,0}, {209,168,66}, {232,186,74}, {234,189,78}, {234,189,78}},
};


int emoji7_6[8][8][3] = {
  {{233,188,76}, {234,188,74}, {234,188,74}, {233,187,73}, {219,176,70}, {231,185,73}, {220,176,70}, {234,188,73}},
 {{234,188,74}, {235,188,72}, {237,190,73}, {223,179,68}, {0,0,0}, {202,162,63}, {0,0,0}, {219,176,67}},
 {{234,188,75}, {235,188,73}, {234,187,72}, {218,175,68}, {216,174,68}, {234,187,72}, {217,174,68}, {218,176,68}},
 {{234,188,75}, {239,192,73}, {224,180,69}, {0,0,0}, {202,162,63}, {222,178,68}, {206,166,65}, {0,0,0}},
 {{233,187,74}, {220,177,69}, {219,176,69}, {204,164,64}, {0,0,0}, {0,0,0}, {0,0,0}, {200,161,63}},
 {{222,178,71}, {0,0,0}, {0,0,0}, {218,175,68}, {220,177,68}, {214,172,67}, {217,174,67}, {238,191,73}},
 {{220,178,71}, {0,0,0}, {0,0,0}, {215,173,67}, {240,193,73}, {238,190,73}, {237,190,73}, {237,190,73}},
 {{220,177,71}, {0,0,0}, {0,0,0}, {214,172,67}, {237,190,73}, {234,187,72}, {234,188,73}, {236,190,73}},
};


int emoji7_7[8][8][3] = {
  {{238,190,71}, {236,189,72}, {237,189,72}, {234,187,71}, {218,174,67}, {233,186,71}, {218,175,67}, {236,189,70}},
 {{237,189,71}, {235,188,72}, {237,190,73}, {221,177,68}, {0,0,0}, {203,163,63}, {0,0,0}, {220,176,67}},
 {{237,189,72}, {235,188,73}, {233,187,72}, {218,174,68}, {219,175,68}, {234,188,73}, {219,176,68}, {218,175,67}},
 {{239,191,72}, {237,190,73}, {218,175,68}, {0,0,0}, {204,164,64}, {222,178,69}, {206,166,65}, {0,0,0}},
 {{223,178,68}, {234,187,72}, {234,187,73}, {190,153,60}, {0,0,0}, {0,0,0}, {0,0,0}, {200,161,61}},
 {{0,0,0}, {221,177,69}, {220,176,68}, {0,0,0}, {197,158,62}, {215,172,67}, {215,172,67}, {238,191,72}},
 {{0,0,0}, {219,175,69}, {217,174,68}, {0,0,0}, {217,175,68}, {241,192,74}, {237,190,73}, {237,190,72}},
 {{0,0,0}, {221,177,68}, {219,176,67}, {0,0,0}, {217,174,66}, {240,191,72}, {237,189,72}, {239,191,71}},
};


int emoji7_8[8][8][3] = {
  {{239,190,70}, {237,189,71}, {237,189,71}, {236,188,71}, {218,175,66}, {233,186,70}, {219,175,66}, {236,188,70}},
 {{237,189,71}, {235,188,72}, {236,190,73}, {225,180,69}, {0,0,0}, {203,163,63}, {0,0,0}, {211,169,64}},
 {{237,189,72}, {235,188,73}, {234,187,72}, {219,176,68}, {218,175,68}, {234,188,72}, {220,176,69}, {219,175,67}},
 {{237,189,72}, {239,191,74}, {223,179,69}, {0,0,0}, {202,163,64}, {224,180,69}, {213,171,67}, {0,0,0}},
 {{236,188,72}, {224,180,70}, {224,180,70}, {203,163,64}, {0,0,0}, {0,0,0}, {0,0,0}, {191,153,59}},
 {{221,177,67}, {0,0,0}, {0,0,0}, {218,175,68}, {215,173,67}, {209,168,65}, {211,169,66}, {236,189,71}},
 {{218,175,67}, {0,0,0}, {0,0,0}, {215,173,67}, {241,193,74}, {238,191,73}, {238,190,73}, {237,189,72}},
 {{220,177,66}, {0,0,0}, {0,0,0}, {216,174,66}, {240,192,72}, {237,189,72}, {237,189,72}, {239,190,71}},
};


int emoji7_9[8][8][3] = {
  {{233,188,74}, {233,186,71}, {219,176,68}, {233,186,71}, {233,186,71}, {219,176,68}, {233,186,71}, {233,188,74}},
 {{237,190,75}, {220,176,68}, {0,0,0}, {218,175,68}, {219,176,68}, {0,0,0}, {218,175,68}, {237,190,74}},
 {{237,190,76}, {222,179,69}, {0,0,0}, {218,175,68}, {219,176,68}, {0,0,0}, {221,177,69}, {237,190,75}},
 {{233,187,74}, {215,172,67}, {209,169,69}, {236,189,73}, {236,189,73}, {209,169,69}, {214,172,67}, {233,187,74}},
 {{222,179,71}, {0,0,0}, {0,0,0}, {204,165,68}, {205,165,68}, {0,0,0}, {0,0,0}, {220,178,70}},
 {{237,191,74}, {215,173,70}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {214,173,70}, {237,190,73}},
 {{219,178,75}, {209,171,75}, {106,99,82}, {209,169,70}, {210,170,69}, {105,99,82}, {208,170,75}, {219,177,75}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {220,178,72}, {221,178,72}, {0,0,0}, {0,0,0}, {0,0,0}},
};


int emoji7_10[8][8][3] = {
  {{236,190,76}, {235,188,70}, {213,170,64}, {233,186,70}, {236,189,71}, {213,170,64}, {232,185,70}, {238,190,70}},
 {{236,191,78}, {225,180,69}, {0,0,0}, {206,165,64}, {231,185,71}, {0,0,0}, {201,161,63}, {240,193,72}},
 {{236,191,78}, {229,183,71}, {0,0,0}, {210,168,65}, {234,187,72}, {0,0,0}, {206,165,65}, {241,193,73}},
 {{233,188,77}, {213,170,66}, {225,180,70}, {221,178,73}, {220,178,74}, {226,182,71}, {212,170,66}, {232,186,70}},
 {{225,182,75}, {0,0,0}, {183,148,61}, {108,101,83}, {0,0,0}, {190,155,66}, {0,0,0}, {204,164,63}},
 {{237,192,78}, {219,175,66}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {199,159,61}, {240,192,72}},
 {{219,179,79}, {221,179,73}, {202,165,71}, {0,0,0}, {0,0,0}, {189,156,71}, {220,178,73}, {221,178,73}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
};


int emoji7_11[8][8][3] = {
  {{239,190,70}, {234,187,70}, {214,171,65}, {235,188,70}, {234,187,70}, {214,171,65}, {235,187,70}, {237,189,71}},
 {{239,192,72}, {213,170,66}, {0,0,0}, {222,178,69}, {216,173,67}, {0,0,0}, {217,174,68}, {237,191,72}},
 {{240,192,73}, {217,174,67}, {0,0,0}, {223,179,69}, {218,174,67}, {0,0,0}, {222,178,69}, {238,191,73}},
 {{234,187,71}, {210,169,66}, {211,171,71}, {237,190,73}, {236,189,73}, {211,170,70}, {211,169,66}, {233,187,72}},
 {{218,174,65}, {0,0,0}, {0,0,0}, {204,165,67}, {201,163,68}, {0,0,0}, {0,0,0}, {220,176,68}},
 {{240,191,70}, {212,171,71}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {215,173,71}, {238,191,71}},
 {{222,179,72}, {207,169,75}, {105,98,82}, {213,172,70}, {210,169,70}, {104,98,82}, {209,171,75}, {221,179,73}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {226,182,72}, {222,180,73}, {0,0,0}, {0,0,0}, {0,0,0}},
};


int emoji7_12[8][8][3] = {
  {{238,190,70}, {231,184,70}, {204,163,62}, {235,188,71}, {232,185,70}, {203,163,62}, {234,187,70}, {236,189,71}},
 {{240,193,72}, {203,163,64}, {0,0,0}, {227,182,70}, {211,169,66}, {0,0,0}, {220,177,68}, {237,190,72}},
 {{241,193,73}, {211,169,66}, {0,0,0}, {231,185,71}, {217,173,67}, {0,0,0}, {225,181,70}, {237,190,73}},
 {{231,185,70}, {207,166,65}, {230,185,72}, {216,175,74}, {217,176,74}, {229,184,71}, {207,166,65}, {231,186,72}},
 {{207,165,64}, {0,0,0}, {185,150,65}, {0,0,0}, {102,96,83}, {182,147,61}, {0,0,0}, {220,176,69}},
 {{241,193,72}, {205,164,63}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {218,175,67}, {238,191,72}},
 {{218,177,73}, {218,177,74}, {192,158,72}, {0,0,0}, {0,0,0}, {201,164,71}, {218,177,74}, {216,176,74}},
 {{0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}},
};

// Convert X-Y to LED index based on a zigzag layout
int XYtoIndex(int x, int y) {
  if (y % 2 == 0) {
    return (y * MATRIX_WIDTH) + x;
  } else {
    return (y * MATRIX_WIDTH) + (MATRIX_WIDTH - 1 - x);
  }
}


// Draw the 8x8 matrix based on the pattern
void drawMatrix(int matrix[8][8][3]) {
  for (int y = 0; y < 8; y++) {
    for (int x = 0; x < 8; x++) {
      int pixelIndex = XYtoIndex(x, y);
      uint8_t r = matrix[y][x][0];
      uint8_t g = matrix[y][x][1];
      uint8_t b = matrix[y][x][2];
      strip.setPixelColor(pixelIndex, strip.Color(r, g, b));
    }
  }
  strip.show();
}


// Clear the matrix
void clearMatrix() {
  for (int i = 0; i < NUM_LEDS; i++) {
    strip.setPixelColor(i, strip.Color(0, 0, 0));
  }
  strip.show();
}


void sendPostRequestTask(void* pvParameters) {
  if (WiFi.status() == WL_CONNECTED) {
    HTTPClient http;
    http.begin(serverAddress);
    http.addHeader("Authorization", "Bearer my_secret_key");
    http.addHeader("Custom-Header", "MyHeaderValue");
    
    http.setTimeout(20000);  // 10 seconds in milliseconds

    int httpCode = http.POST("");  // Send empty POST body
    
    if (httpCode > 0) {
      Serial.printf("HTTP Code: %d\n", httpCode);
      String responseData = http.getString();
      Serial.printf(responseData.c_str());
      
      // Parse JSON
      StaticJsonDocument<200> jsonDoc;
      DeserializationError error = deserializeJson(jsonDoc, responseData);

      if (error) {
        Serial.printf("JSON Parsing Failed: %s\n", error.c_str());
      } else {
        // Extract the emoji field
        const char* emoji = jsonDoc["emoji"];
        Serial.printf("Detected Emoji: %s\n", emoji);

        // Map emoji to LED animation
        if (strcmp(emoji, "惊讶") == 0) {
          mode = 1;  // Set mode for "疑惑" emoji
        } else if (strcmp(emoji, "调皮") == 0) {
          mode = 2;  // Set mode for "开心" emoji
        } else if (strcmp(emoji, "哭泣") == 0) {
          mode = 3;  // Set mode for "难过" emoji
        } else if (strcmp(emoji, "愤怒") == 0) {
          mode = 4;  // Set mode for "惊讶" emoji
        } else if (strcmp(emoji, "肯定") == 0) {
          mode = 5;  // Set mode for "生气" emoji
        } else if (strcmp(emoji, "疑惑") == 0) {
          mode = 6;  // Set mode for "爱心" emoji
        } else if (strcmp(emoji, "鼓掌") == 0) {
          mode = 7;  // Set mode for "思考" emoji
        } else {
          mode = 0;  // Default mode (no emoji)
        }
      }
      
      
    } else {
      Serial.printf("HTTP Error: %s\n", http.errorToString(httpCode).c_str());
    }
    
    http.end();
  }
  vTaskDelete(NULL);  // Delete this task when done
}

void sendPostRequest() {
  // Create a FreeRTOS task to handle HTTP without blocking
  xTaskCreate(
    sendPostRequestTask,  // Task function
    "HTTP_Task",          // Name
    4096,                 // Stack size (bytes)
    NULL,                 // Parameters
    1,                    // Priority (1 is low)
    NULL                  // Task handle
  );
}



void checkButton() {
  bool reading = digitalRead(BUTTON_PIN);

  if (reading != lastButtonState) {
    lastDebounceTime = millis();
  }

  if ((millis() - lastDebounceTime) > debounceDelay) {
    if (reading != currentButtonState) {
      currentButtonState = reading;

      if (currentButtonState == LOW) {
        buttonPressStartTime = millis(); // Record button press start time
        longPressDetected = false;
      } else {
        if (!longPressDetected) {
          mode++;
          sendPostRequest();
          if (mode > 7) {
            mode = 1;
            sendPostRequest();
          }
        }
      }
    }
  }

  // Detect long press (1 second)
  if (currentButtonState == LOW && !longPressDetected && (millis() - buttonPressStartTime) >= 1000) {
    longPressDetected = true;
    mode = 0; // Turn off lights
  }

  lastButtonState = reading;
}

void scheme1() { 

  if (millis() - animationTimer >= 200) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji1_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji1_2);
      animationStep++;

    } else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void scheme2() { 
  strip.clear();
  drawMatrix(emoji2);
}

void scheme3() { 

  if (millis() - animationTimer >= 200) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji3_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji3_2);
      animationStep++;

    } else if (animationStep == 2) {
      strip.clear();
      drawMatrix(emoji3_3);
      animationStep++;

    } else if (animationStep == 3) {
      strip.clear();
      drawMatrix(emoji3_4);
      animationStep++;

    } else if (animationStep == 4) {
      strip.clear();
      drawMatrix(emoji3_5);
      animationStep++;

    } else if (animationStep == 5) {
      strip.clear();
      drawMatrix(emoji3_6);
      animationStep++;

    } else if (animationStep == 6) {
      strip.clear();
      drawMatrix(emoji3_7);
      animationStep++;

    } else if (animationStep == 7) {
      strip.clear();
      drawMatrix(emoji3_8);
      animationStep++;

    } else if (animationStep == 8) {
      strip.clear();
      drawMatrix(emoji3_9);
      animationStep++;

    }  else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void scheme4() { // Full blink (all LEDs)
  if (millis() - animationTimer >= 200) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji4_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji4_2);
      animationStep++;

    } else if (animationStep == 2) {
      strip.clear();
      drawMatrix(emoji4_3);
      animationStep++;

    } else if (animationStep == 3) {
      strip.clear();
      drawMatrix(emoji4_4);
      animationStep++;

    } else if (animationStep == 4) {
      strip.clear();
      drawMatrix(emoji4_5);
      animationStep++;

    } else if (animationStep == 5) {
      strip.clear();
      drawMatrix(emoji4_6);
      animationStep++;

    } else if (animationStep == 6) {
      strip.clear();
      drawMatrix(emoji4_7);
      animationStep++;

    } else if (animationStep == 7) {
      strip.clear();
      drawMatrix(emoji4_8);
      animationStep++;

    }  else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void scheme5() { // Mirror bounce (outside to inside)
  if (millis() - animationTimer >= 150) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji5_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji5_2);
      animationStep++;

    } else if (animationStep == 2) {
      strip.clear();
      drawMatrix(emoji5_3);
      animationStep++;

    } else if (animationStep == 3) {
      strip.clear();
      drawMatrix(emoji5_4);
      animationStep++;

    } else if (animationStep == 4) {
      strip.clear();
      drawMatrix(emoji5_5);
      animationStep++;

    } else if (animationStep == 5) {
      strip.clear();
      drawMatrix(emoji5_6);
      animationStep++;

    } else if (animationStep == 6) {
      strip.clear();
      drawMatrix(emoji5_7);
      animationStep++;

    } else if (animationStep == 7) {
      strip.clear();
      drawMatrix(emoji5_8);
      animationStep++;

    }  else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void scheme6() { // Mirror bounce (outside to inside)
  if (millis() - animationTimer >= 200) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji6_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji6_2);
      animationStep++;

    } else if (animationStep == 2) {
      strip.clear();
      drawMatrix(emoji6_3);
      animationStep++;

    } else if (animationStep == 3) {
      strip.clear();
      drawMatrix(emoji6_4);
      animationStep++;

    } else if (animationStep == 4) {
      strip.clear();
      drawMatrix(emoji6_5);
      animationStep++;

    } else if (animationStep == 5) {
      strip.clear();
      drawMatrix(emoji6_6);
      animationStep++;

    } else if (animationStep == 6) {
      strip.clear();
      drawMatrix(emoji6_7);
      animationStep++;

    } else if (animationStep == 7) {
      strip.clear();
      drawMatrix(emoji6_8);
      animationStep++;

    } else if (animationStep == 8) {
      strip.clear();
      drawMatrix(emoji6_9);
      animationStep++;

    } else if (animationStep == 9) {
      strip.clear();
      drawMatrix(emoji6_10);
      animationStep++;

    }  else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void scheme7() { // Mirror bounce (outside to inside)
  if (millis() - animationTimer >= 200) { // Faster blinking
    animationTimer = millis();

    if (animationStep == 0) {
      strip.clear();
      drawMatrix(emoji7_1);
      animationStep++;

    } else if (animationStep == 1) {
      strip.clear();
      drawMatrix(emoji7_2);
      animationStep++;

    } else if (animationStep == 2) {
      strip.clear();
      drawMatrix(emoji7_3);
      animationStep++;

    } else if (animationStep == 3) {
      strip.clear();
      drawMatrix(emoji7_4);
      animationStep++;

    } else if (animationStep == 4) {
      strip.clear();
      drawMatrix(emoji7_5);
      animationStep++;

    } else if (animationStep == 5) {
      strip.clear();
      drawMatrix(emoji7_6);
      animationStep++;

    } else if (animationStep == 6) {
      strip.clear();
      drawMatrix(emoji7_7);
      animationStep++;

    } else if (animationStep == 7) {
      strip.clear();
      drawMatrix(emoji7_8);
      animationStep++;

    } else if (animationStep == 8) {
      strip.clear();
      drawMatrix(emoji7_9);
      animationStep++;

    } else if (animationStep == 9) {
      strip.clear();
      drawMatrix(emoji7_10);
      animationStep++;

    } else if (animationStep == 9) {
      strip.clear();
      drawMatrix(emoji7_11);
      animationStep++;

    } else if (animationStep == 9) {
      strip.clear();
      drawMatrix(emoji7_12);
      animationStep++;

    } else {
      animationStep = 0;
      strip.clear();
    }
  }
}

void setup() {
  strip.begin();

  strip.setBrightness(100); //Brightness 0-255
  
  strip.show();
  pinMode(BUTTON_PIN, INPUT_PULLUP);

  Serial.begin(9600);
  WiFi.begin(ssid, password);
  
  /*
  Serial.print("Connecting to WiFi");

  while (WiFi.status() != WL_CONNECTED) {
      delay(500);
      Serial.print(".");
  }
  Serial.println("\nConnected to WiFi!");
  
  sendPostRequest();
  */
}

void loop() {
  checkButton(); // Check for button press and update mode

  if (mode != previousMode) {
    animationStep = 0; // Reset animation step
    animationTimer = millis(); // Reset animation timer
    strip.clear(); // Clear the strip
    previousMode = mode; // Update previous mode
    flashCount = 0; // Reset flash count
  }

  switch(mode) {
    case 1: scheme1(); break; // Left-to-right pair blinking
    case 2: scheme2(); break; // Mirror bounce
    case 3: scheme3(); break; // Inward single LED
    case 4: scheme4(); break; // Full blink
    case 5: scheme5(); break; // Mirror bounce Red and Blue
    case 6: scheme6(); break;
    case 7: scheme7(); break;
    case 0: // Turn off lights
      strip.clear();
      strip.show();
      break;
  }

  
}

